<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Converts Spotify To YT with the help of LavaLink
 * @author Gaeta 
 */

const Util = require("./util")
const supportedTypes = ["playlist", "track"];
const spotifySearch = require("@ksolo/spotify-search");
const { getTracks, getData } = require("spotify-url-info");
const spotifyURI = require("spotify-uri");
const request = require("request");

class SpotifyToYT {
  /**
   * @description The options that SpotifyToYT will use to convert and link with lavalink.
   * 
   * @param {Object} options The Options Object
   * @param {Object} options.spotify The Object for Spotify
   * @param {String} options.spotify.clientID Client ID of Spotify App
   * @param {String} options.spotify.secretKey Client ID of Spotify App
   * @param {RegExp} [options.spotify.regex=/(https?:\/\/open\.spotify\.com\/(playlist|track)\/[a-zA-Z0-9]+|spotify:(playlist|track):[a-zA-Z0-9])/g] The regex to vaildate spotify Strings
   * @param {Object} options.lavalink The Object for LavaLink
   * @param {String} options.lavalink.url Client ID of Spotify App
   * @returns {Object}
   * 
   * @example
   * const STYT = SpotifyToYT({
   *  spotify: {
   *    clientID: "CLIENTID",
   *    secretKey: "SECRETKEY"
   *  },
   *  lavalink: {
   *    url: "http://localhost:2869"
   *  }
   * })
   */
  constructor(options = {}) {
    super();
    this.options = Util.mergeDefault({
      spotify: {
        clientID: null,
        secretKey: null,
        regex: /(https?:\/\/open\.spotify\.com\/(playlist|track)\/[a-zA-Z0-9]+|spotify:(playlist|track):[a-zA-Z0-9])/g
      },
      lavalink: {
        url: null
      }
    }, options)
  }

  /**
   * @description Validate that the URL is an Spotify URL or Playlist  
   * 
   * @param {Url} url The URL of the Spotify Track Or Playlist
   * @returns {Boolean}
   * 
   */
  async validateURL (url) {
    if (!url) throw new Error('You did not specify the URL of Spotify!');
    if (typeof url !== 'string') return false;
    if (this.options.spotify.regex.test(url)) {
        let parsedURL = {}
        try {
            parsedURL = spotifyURI.parse(url);
            if (!supportedTypes.includes(parsedURL.type)) return false;
            if (!parsedURL) return false;
            return true;
        } catch (e) {
            return false;
        }
    } else return false;
  }
}

module.exports = SpotifyToYT</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="SpotifyToYT.html">SpotifyToYT</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Util">Util</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sun Aug 15 2021 23:19:08 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
